# 유튜버 인베스트 마켓 v1 — 변경 및 상세 사양서 (2025-12-24)

본 문서는 `prompt/definition.md`에 정의된 초기 요구사항을 바탕으로, 실제 구현 과정에서 추가된 기술적 최적화 및 데이터 구조 고도화 내용을 정리합니다.

---

### 1. 데이터 모델 확장 (Persisted Data Layer)

초기 정의서의 채널 통계 위주 저장 방식에서, 정교한 인게이지먼트 분석을 위해 영상 단위의 저장 구조를 추가했습니다.

- **[신규] `Video` 모델**: 개별 동영상의 메타데이터(제목, 썸네일, 업로드일, 재생시간)와 통계(조회수, 좋아요, 댓글)를 DB에 보관합니다.
- **[신규] `VideoType` 분류**: 재생시간(Duration)을 기준으로 `LONG` (60초 초과)과 `SHORTS` (60초 이하)를 자동 분류하여 저장합니다.
- **`Creator` 모델 고도화**: 실시간 계산 부하를 줄이기 위해 `avgLikes`(평균 좋아요), `avgComments`(평균 댓글), `engagementRate`(인게이지먼트 비율), `viewsPerSubs`(구독자 대비 조회 효율) 필드를 추가하고 캐싱합니다.

### 2. YouTube API 운영 최적화 (Quota Efficiency)

정의서 섹션 2에서 우려한 API 쿼터 병목 문제를 해결하기 위해 수집 전략을 변경했습니다.

- **기존**: `search` API 중심 (호출당 100 유닛 소모).
- **변경**: **Uploads Playlist 전략** 적용. 채널 ID(UC...)를 업로드 목록 ID(UU...)로 변환하여 `playlistItems` API를 사용 (호출당 **1~2 유닛** 소모).
  - **효과**: 동일 비용으로 기존보다 **약 100배 더 많은 데이터**를 수집하거나 빈번한 동기화가 가능해졌습니다.

### 3. 세부 지표 산출 로직 (Metrics Engine)

정의서 섹션 4와 9의 비전을 구체적인 수식으로 구현했습니다.

- **인게이지먼트 비율(ER)**: `(총 좋아요 + 총 댓글) / 총 조회수` 로 산출하여 팬덤의 충성도를 측정합니다.
- **콘텐츠 성과 차트**: 최근 10개 영상의 조회수(Bar)와 좋아요(Area)를 하나의 차트에 시각화하여 영상별 성과 기여도를 분석합니다.
- **쇼츠 가중치 준비**: 모든 영상이 `type` 필드로 구분되어 저장되므로, 정의서에서 제안한 `recentViews = Long + 0.1 * Shorts` 로직을 즉시 적용할 수 있는 데이터 기반을 마련했습니다.

### 4. UI/UX: 리서치와 트레이딩의 분리 (Tabbed Dashboard)

유저가 가격 변동과 실질적 가치를 혼동하지 않도록 인터페이스를 이원화했습니다.

- **Trending (트렌딩) 탭**: 시장가(MP), 시가총액, 유동성, 구독자/조회수 변화량(모멘텀) 등 **거래 관련 데이터** 집중.
- **Content (콘텐츠) 탭**: 인게이지먼트 게이지, 영상별 세부 지표, 최신 영상 리스트 등 **자산의 펀더멘털 분석** 집중.
- **YouTube Direct Link**: 분석 중 즉시 원본 채널을 확인할 수 있도록 공식 아이콘과 함께 외부 링크를 배치했습니다.

---

### **정의서 대비 불변 원칙 재확인**

- **거래 우선**: 영상의 좋아요/댓글 수가 늘어나도 시장가격(MP)은 오직 유저의 '매수' 주문이 체결될 때만 변동됩니다.
- **참고 지표**: 본 업데이트로 추가된 모든 인게이지먼트 데이터는 유저의 투자 판단을 돕는 '리서치 지표'로만 활용됩니다.
